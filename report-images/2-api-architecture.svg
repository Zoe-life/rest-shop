<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <defs>
    <style>
      .title { font: bold 20px sans-serif; fill: #2c3e50; }
      .box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .endpoint { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; }
      .text { font: 14px sans-serif; fill: white; text-anchor: middle; }
      .smalltext { font: 11px sans-serif; fill: white; text-anchor: middle; }
      .label { font: 12px sans-serif; fill: #34495e; }
      .arrow { stroke: #7f8c8d; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#7f8c8d" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" class="title">RESTful API Architecture</text>
  
  <!-- Routes Layer -->
  <text x="400" y="65" class="label" style="font-weight: bold;">API Routes</text>
  
  <!-- User Routes -->
  <rect x="50" y="80" width="160" height="100" class="endpoint" rx="5"/>
  <text x="130" y="105" class="text" style="font-weight: bold;">User Routes</text>
  <text x="130" y="125" class="smalltext">POST /signup</text>
  <text x="130" y="142" class="smalltext">POST /login</text>
  <text x="130" y="159" class="smalltext">DELETE /:userId</text>
  
  <!-- Product Routes -->
  <rect x="230" y="80" width="160" height="100" class="endpoint" rx="5"/>
  <text x="310" y="105" class="text" style="font-weight: bold;">Product Routes</text>
  <text x="310" y="125" class="smalltext">GET /products</text>
  <text x="310" y="142" class="smalltext">POST /products</text>
  <text x="310" y="159" class="smalltext">PATCH /:id</text>
  <text x="310" y="172" class="smalltext">DELETE /:id</text>
  
  <!-- Order Routes -->
  <rect x="410" y="80" width="160" height="100" class="endpoint" rx="5"/>
  <text x="490" y="105" class="text" style="font-weight: bold;">Order Routes</text>
  <text x="490" y="125" class="smalltext">GET /orders</text>
  <text x="490" y="142" class="smalltext">POST /orders</text>
  <text x="490" y="159" class="smalltext">GET /:orderId</text>
  <text x="490" y="172" class="smalltext">DELETE /:orderId</text>
  
  <!-- OAuth Routes -->
  <rect x="590" y="80" width="160" height="100" class="endpoint" rx="5"/>
  <text x="670" y="105" class="text" style="font-weight: bold;">OAuth Routes</text>
  <text x="670" y="125" class="smalltext">GET /auth/google</text>
  <text x="670" y="142" class="smalltext">GET /auth/microsoft</text>
  <text x="670" y="159" class="smalltext">GET /auth/apple</text>
  
  <!-- Middleware Layer -->
  <text x="400" y="220" class="label" style="font-weight: bold;">Middleware Pipeline</text>
  
  <rect x="100" y="235" width="600" height="45" class="box" rx="5"/>
  <text x="400" y="260" class="text">Security → Rate Limiting → CORS → Authentication → Validation → Sanitization</text>
  
  <!-- Controllers -->
  <text x="400" y="310" class="label" style="font-weight: bold;">Business Logic Layer</text>
  
  <rect x="80" y="325" width="150" height="60" class="box" rx="5"/>
  <text x="155" y="350" class="text">User Controller</text>
  <text x="155" y="368" class="smalltext">Register, Login</text>
  <text x="155" y="381" class="smalltext">Manage Users</text>
  
  <rect x="250" y="325" width="150" height="60" class="box" rx="5"/>
  <text x="325" y="350" class="text">Product Controller</text>
  <text x="325" y="368" class="smalltext">CRUD Operations</text>
  <text x="325" y="381" class="smalltext">Image Upload</text>
  
  <rect x="420" y="325" width="150" height="60" class="box" rx="5"/>
  <text x="495" y="350" class="text">Order Controller</text>
  <text x="495" y="368" class="smalltext">Create Orders</text>
  <text x="495" y="381" class="smalltext">Track Orders</text>
  
  <rect x="590" y="325" width="150" height="60" class="box" rx="5"/>
  <text x="665" y="350" class="text">Auth Controller</text>
  <text x="665" y="368" class="smalltext">OAuth Handlers</text>
  <text x="665" y="381" class="smalltext">Token Generation</text>
  
  <!-- Data Layer -->
  <text x="400" y="420" class="label" style="font-weight: bold;">Data Access Layer</text>
  
  <rect x="200" y="435" width="400" height="60" class="box" rx="5"/>
  <text x="400" y="460" class="text">Mongoose ODM</text>
  <text x="400" y="478" class="smalltext">Schema Validation • Query Builder • Middleware</text>
  
  <!-- Response -->
  <text x="400" y="530" class="label" style="font-weight: bold;">Response Format</text>
  <rect x="200" y="540" width="400" height="45" class="endpoint" rx="5"/>
  <text x="400" y="565" class="text">JSON Response (Success/Error) + HTTP Status Codes</text>
  
  <!-- Arrows -->
  <path d="M 130 180 L 155 235" class="arrow"/>
  <path d="M 310 180 L 325 235" class="arrow"/>
  <path d="M 490 180 L 495 235" class="arrow"/>
  <path d="M 670 180 L 665 235" class="arrow"/>
  
  <path d="M 155 280 L 155 325" class="arrow"/>
  <path d="M 325 280 L 325 325" class="arrow"/>
  <path d="M 495 280 L 495 325" class="arrow"/>
  <path d="M 665 280 L 665 325" class="arrow"/>
  
  <path d="M 155 385 L 300 435" class="arrow"/>
  <path d="M 325 385 L 360 435" class="arrow"/>
  <path d="M 495 385 L 440 435" class="arrow"/>
  <path d="M 665 385 L 500 435" class="arrow"/>
  
  <path d="M 400 495 L 400 540" class="arrow"/>
</svg>
